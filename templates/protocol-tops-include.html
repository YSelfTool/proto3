<ul>
    {% if not protocol.has_nonplanned_tops() %}
        {% for default_top in protocol.protocoltype.default_tops %}
            {% if not default_top.is_at_end() %}
                <li>{{default_top.name}}</li>
            {% endif %}
        {% endfor %}
    {% endif %}
    {% for top in protocol.tops %}
        <li{% if has_private_view_right and top.description is not none %} class="expansion-button" id="top-{{top.id}}" title="{{top.description}}"{% endif %}>
            {{top.name}}
            {% if not protocol.is_done() and has_modify_right %}
                ({{top.number}})
            {% endif %}
            {% if not protocol.is_done() and has_modify_right %}
                <a href="{{url_for('edit_top', top_id=top.id)}}">Ändern</a>
                <a href="{{url_for('move_top', top_id=top.id, diff=1)}}">Runter</a>
                <a href="{{url_for('move_top', top_id=top.id, diff=-1)}}">Hoch</a>
                <a href="{{url_for('delete_top', top_id=top.id)}}" onclick="return confirm('Bist du dir sicher, dass du den TOP {{top.name}} löschen möchtest?');">Löschen</a>
            {% endif %}
            {% if has_private_view_right and top.description is not none and top.description|length > 0 %}
                <span class="glyphicon glyphicon-info-sign"></span>
                <pre id="top-{{top.id}}-description" class="expansion-text">
                    {{-top.description-}}
                </pre>
            {% endif %}
        </li>
    {% endfor %}
    {% if not protocol.has_nonplanned_tops() %}
        {% for default_top in protocol.protocoltype.default_tops %}
            {% if default_top.is_at_end() %}
                <li>{{default_top.name}}</li>
            {% endif %}
        {% endfor %}
    {% endif %}
</ul>
